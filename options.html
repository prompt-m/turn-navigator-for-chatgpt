<!doctype html>
<meta charset="utf-8">
<title>ChatGPT Turn Navigator - 設定</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  :root { color-scheme: light dark; }
  body { font: 14px/1.5 system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", Meiryo, sans-serif; margin: 24px; }
  h1 { font-size: 18px; margin: 0 0 16px; }
  fieldset { border: 1px solid #ccc; border-radius: 10px; padding: 12px 16px; margin: 16px 0; }
  legend { padding: 0 6px; font-weight: 600; }
  .row { display: grid; grid-template-columns: 220px 1fr; gap: 8px 12px; align-items: center; margin: 8px 0; }
  label { color: #666; }
  input[type="number"] { width: 120px; }
  select, input[type="number"] { padding: 6px 8px; }
  .hint { color:#888; font-size:12px; }
  .btns { display:flex; gap:8px; margin-top: 12px; }
  button { padding:8px 12px; border-radius:8px; border:1px solid #ccc; cursor:pointer; }
  .ok { color: #0a7; font-weight:600; margin-left: 8px; }
</style>

<h1>ChatGPT Turn Navigator – 設定</h1>

<fieldset>
  <legend>スクロール位置の調整</legend>
  <div class="row">
    <label for="centerBias">CENTER_BIAS（0.00–1.00）</label>
    <input id="centerBias" type="number" step="0.01" min="0" max="1">
  </div>
  <div class="row">
    <label for="headerPx">HEADER_PX（px）</label>
    <input id="headerPx" type="number" step="1" min="0">
  </div>
  <div class="row">
    <label for="lockMs">SCROLL_LOCK_MS（ms）</label>
    <input id="lockMs" type="number" step="50" min="0">
  </div>
  <div class="row">
    <label for="eps">EPS（ヒステリシス px）</label>
    <input id="eps" type="number" step="1" min="0">
  </div>
  <div class="hint">※「少し上寄せ」は CENTER_BIAS ≒ 0.46 が目安。固定ヘッダが高い場合は HEADER_PX を増やしてください。</div>
</fieldset>

<fieldset>
  <legend>キーボード操作</legend>
  <div class="row">
    <label for="enableHotkeys">有効化</label>
    <select id="enableHotkeys">
      <option value="true">有効</option>
      <option value="false">無効</option>
    </select>
  </div>
  <div class="row">
    <label for="targetRole">対象（ホットキー操作先）</label>
    <select id="targetRole">
      <option value="assistant">アシスタント</option>
      <option value="user">ユーザー</option>
      <option value="all">全体</option>
    </select>
  </div>
  <div class="row">
    <label for="modifier">修飾キー</label>
    <select id="modifier">
      <option value="Alt">Alt</option>
      <option value="Ctrl">Ctrl</option>
      <option value="Shift">Shift</option>
      <option value="Meta">Meta(⌘/Win)</option>
      <option value="None">なし</option>
    </select>
  </div>

  <div class="row"><label for="keyPrev">前へ</label><select id="keyPrev"></select></div>
  <div class="row"><label for="keyNext">次へ</label><select id="keyNext"></select></div>
  <div class="row"><label for="keyTop">先頭</label><select id="keyTop"></select></div>
  <div class="row"><label for="keyBottom">末尾</label><select id="keyBottom"></select></div>

  <div class="row">
    <label for="allowInInputs">入力中でも反応</label>
    <select id="allowInInputs">
      <option value="false">反応しない（推奨）</option>
      <option value="true">反応する</option>
    </select>
  </div>
</fieldset>

<fieldset>
  <legend>対象ロールの切替ショートカット</legend>
  <div class="row"><label for="keyRoleUser">ユーザーに切替</label><select id="keyRoleUser"></select></div>
  <div class="row"><label for="keyRoleAssistant">アシスタントに切替</label><select id="keyRoleAssistant"></select></div>
  <div class="row"><label for="keyRoleAll">全体に切替</label><select id="keyRoleAll"></select></div>
  <div class="hint">既定：Alt+1（ユーザー）／Alt+2（アシスタント）／Alt+3（全体）。</div>
</fieldset>

<div class="btns">
  <button id="save">保存</button>
  <button id="reset">既定に戻す</button>
  <span id="status" class="ok" hidden>保存しました</span>
</div>

<script src="options.js"></script>
